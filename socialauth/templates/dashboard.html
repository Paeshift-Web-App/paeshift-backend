{% load socialaccount %}  {# Load django-allauth social login helpers #}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
</head>
<body>
    <h1>Welcome to Your Dashboard</h1>

    {% if user.is_authenticated %}
        <p>Hello, <strong>{{ user.first_name }} {{ user.last_name }}</strong>!</p>
        <p>Email: <strong>{{ user.email }}</strong></p>

        {# Display Google profile picture if available #}
        {% if user.socialaccount_set.all %}
            {% with user.socialaccount_set.first.extra_data as google_data %}
                {% if google_data.picture %}
                    <p><img src="{{ google_data.picture }}" alt="Google Profile Picture" width="100"></p>
                {% endif %}
            {% endwith %}
        {% endif %}

        <a href="{% url 'account_logout' %}">Logout</a>
    
    {% else %}
        <p>You are not logged in.</p>
        <a href="{% provider_login_url 'google' %}">Sign in with Google</a>  {# âœ… Google Sign-in button #}
    {% endif %}
</body>
</html>
